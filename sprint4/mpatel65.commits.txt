
->  credits.html

79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500  1) <!DOCTYPE html>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500  2) <html lang="en">
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500  3) 	<head>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500  4) 		<meta charset="UTF-8" />
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500  5) 		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500  6) 		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500  7) 		<title>Suggestify</title>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500  8) 		<link rel="stylesheet" href="styles.css" />
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500  9) 		<script
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 10) 			src="https://kit.fontawesome.com/4ea5866b14.js"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 11) 			crossorigin="anonymous"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 12) 		></script>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 13) 		<link
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 14) 			href="https://cdn.jsdelivr.net/npm/daisyui@2.31.0/dist/full.css"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 15) 			rel="stylesheet"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 16) 			type="text/css"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 17) 		/>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 18) 		<script src="https://cdn.tailwindcss.com"></script>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 19) 		<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 20) 		<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 21) 		<script src="index.js" defer></script>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 22) 	</head>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 23) 	<body>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 24) 		<nav class="navbar bg-[#21252b] text-slate-300 fixed top-0">
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 25) 			<div class="navbar-start">
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 26) 				<div class="dropdown">
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 27) 					<label tabindex="0" class="btn btn-ghost btn-circle">
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 28) 						<svg
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 29) 							xmlns="http://www.w3.org/2000/svg"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 30) 							class="h-5 w-5"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 31) 							fill="none"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 32) 							viewBox="0 0 24 24"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 33) 							stroke="currentColor"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 34) 						>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 35) 							<path
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 36) 								stroke-linecap="round"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 37) 								stroke-linejoin="round"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 38) 								stroke-width="2"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 39) 								d="M4 6h16M4 12h16M4 18h7"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 40) 							/>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 41) 						</svg>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 42) 					</label>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 43) 					<ul
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 44) 						tabindex="0"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 45) 						class="menu menu-compact dropdown-content mt-3 p-2 shadow bg-[#21252b] rounded-box w-52"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 46) 					>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 47) 						<li><a href="movies.html">Movies</a></li>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 48) 						<li><a href="tv.html">TV Shows</a></li>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 49) 						<li><a href="my-list.html">My List</a></li>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 50) 						<li><a href="settings.html" class="mt-[12rem]">Settings</a></li>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 51) 						<li><a href="login.html">Account</a></li>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 52) 					</ul>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 53) 				</div>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 54) 				<div>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 55) 					<a href="movies.html" class="btn btn-ghost normal-case text-l"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 56) 						>Movies</a
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 57) 					>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 58) 					<a href="tv.html" class="btn btn-ghost normal-case text-l"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 59) 						>TV Shows</a
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 60) 					>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 61) 				</div>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 62) 			</div>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 63) 			<div class="navbar-center">
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 64) 				<a href="index.html" class="btn btn-ghost normal-case text-2xl">Suggestify</a>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 65) 			</div>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 66) 
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 67) 			<div class="navbar-end">
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 68) 				<div>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 69) 					<a href="search.html" class="btn btn-ghost normal-case mr-8 text-l"
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 70) 						>Search</a
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 71) 					>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 72) 				</div>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 73) 				<div>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 74) 					<a href="my-list.html" class="btn btn-ghost normal-case mr-8 text-l">
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 75) 						My List</a
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 76) 					>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 77) 					<span class="badge badge-error absolute text-l right-[100px]"></span>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 78) 				</div>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 79) 				<button class="btn btn-ghost btn-circle mr-4">
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 80) 					<div>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 81) 						<a href="login.html">
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 82) 							<img class="w-12 h-12" src="sus.png" alt="sussy" />
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 83) 						</a>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 84) 					</div>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 85) 				</button>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 86) 			</div>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 87) 		</nav>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 88) 		<div class="h-[800px] flex justify-center items-center flex-col">
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 89)       <div class="text-2xl">This product uses the TMDB API but is not endorsed or certified by <u>TMDB</u></div>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 90)       <div class="text-2xl">Watch Providers in modal box are provided by <u>JustWatch</u></div>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 91)       <a href="https://www.themoviedb.org/">
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 92)         <img class="w-[500px] h-[500px] mb-[50px] border-none" src="tmdb.svg" alt="" />
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 93)       </a>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 94) 		</div>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 95)   </body>
79fe8d0a (mpatel65 2022-11-30 18:27:29 -0500 96) </html>

->  index.html

8f956c86 (mpatel65    2022-11-30 17:54:28 -0500  48) 						<li><a href="tv.html">TV Shows</a></li>
79fe8d0a (mpatel65    2022-11-30 18:27:29 -0500  52) 				    <li><a href="credits.html">Credits</a></li>
8f956c86 (mpatel65    2022-11-30 17:54:28 -0500  60) 						>TV Shows</a
8f956c86 (mpatel65    2022-11-30 17:54:28 -0500  70) 					<a href="search.html" class="btn btn-ghost normal-case mr-8 text-l">Search</a>
8f956c86 (mpatel65    2022-11-30 17:54:28 -0500  80)               <img class="w-12 h-12" src="sus.png" alt="sussy">
79fe8d0a (mpatel65    2022-11-30 18:27:29 -0500 125) 				<li><a href="credits.html">Credits</a></li>

->  movies.html

8f956c86 (mpatel65    2022-11-30 17:54:28 -0500  48) 						<li><a href="tv.html">TV Shows</a></li>
79fe8d0a (mpatel65    2022-11-30 18:27:29 -0500  52)             <li><a href="credits.html">Credits</a></li>
8f956c86 (mpatel65    2022-11-30 17:54:28 -0500  60) 						>TV Shows</a
8f956c86 (mpatel65    2022-11-30 17:54:28 -0500  68)         <div> 
8f956c86 (mpatel65    2022-11-30 17:54:28 -0500  69) 					<a href="search.html" class="btn btn-ghost normal-case mr-8 text-l">Search</a>
8f956c86 (mpatel65    2022-11-30 17:54:28 -0500  70) 				</div>
8f956c86 (mpatel65    2022-11-30 17:54:28 -0500  80)               <img class="w-12 h-12" src="sus.png" alt="sussy">

->  my-list.html

79fe8d0a (mpatel65    2022-11-30 18:27:29 -0500 52)             <li><a href="credits.html">Credits</a></li>
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 70)         <div> 
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 71) 					<a href="search.html" class="btn btn-ghost normal-case mr-8 text-l">Search</a>
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 72) 				</div>
83c56931 (mpatel65    2022-11-30 21:09:24 -0500 82)               <img class="w-12 h-12" src="sus.png" alt="sussy">

->  search.html

79fe8d0a (mpatel65    2022-11-30 18:27:29 -0500 52)             <li><a href="credits.html">Credits</a></li>
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 72) 					<span class="badge badge-error absolute text-l right-[100px]"></span>
83c56931 (mpatel65    2022-11-30 21:09:24 -0500 77)               <img class="w-12 h-12" src="sus.png" alt="sussy">

->  tv.html

8f956c86 (mpatel65    2022-11-30 17:54:28 -0500  48) 						<li><a href="tv.html">TV Shows</a></li>
79fe8d0a (mpatel65    2022-11-30 18:27:29 -0500  52)             <li><a href="credits.html">Credits</a></li>
8f956c86 (mpatel65    2022-11-30 17:54:28 -0500  60) 						>TV Shows</a
8f956c86 (mpatel65    2022-11-30 17:54:28 -0500  68)         <div> 
8f956c86 (mpatel65    2022-11-30 17:54:28 -0500  69) 					<a href="search.html" class="btn btn-ghost normal-case mr-8 text-l">Search</a>
8f956c86 (mpatel65    2022-11-30 17:54:28 -0500  70) 				</div>
8f956c86 (mpatel65    2022-11-30 17:54:28 -0500  80)               <img class="w-12 h-12" src="sus.png" alt="sussy">

->  index.js

^7da774a (mpatel65    2022-11-16 17:10:36 -0500  116) const API_URL =
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  117) 	BASE_URL + 'movie/popular?' + API_KEY + '&language=en-US&page=1';
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  121) const API_URL2 =
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  122) 	BASE_URL + 'movie/top_rated?' + API_KEY + '&language=en-US&page=1';
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  130) const API_URL4 =
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  131) 	BASE_URL + 'tv/top_rated?' + API_KEY + '&language=en-US&page=1';
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  135) const API_URL6 =
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  136) 	BASE_URL + 'movie/now_playing?' + API_KEY + '&language=en-US&page=1';
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  140) const API_URL7 =
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  141) 	BASE_URL + 'movie/upcoming?' + API_KEY + '&language=en-US&page=1';
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  202)         runtime,
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  455)                 <div id="${(title, id)}" class="carousel-item-big-boi w-full ">
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  456)                 <label for="my-modal-${
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  457) 									(title, id)
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  458) 								}" class="btn modal-button" style="height: 502px !important;padding-right: 0px !important;padding-left: 0px !important;margin-right: 0px !important;margin-left: 0px !important;margin-bottom: 10px !important;padding-bottom: 0px !important;width: 1912px !important;" onClick="moveIt(1)">
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  459)                 <img src="${backdrop_url}" alt="poster" style="margin-right: auto margin-left: !important;height: 552px !important;width: 1917px !important;padding-top: 0px;padding-bottom: 0px;padding-right: 0px;
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  463)                 <input type="checkbox" class="modal-toggle" id="my-modal-${
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  464) 									(title, id)
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  465) 								}" />
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  469)                                 for="my-modal-${(title, id)}"
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  491) 	tabcontent = document.getElementsByClassName('tabcontent');
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  493) 		tabcontent[i].style.display = 'none';
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  497) 	tablinks = document.getElementsByClassName('tablinks');
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  499) 		tablinks[i].className = tablinks[i].className.replace(' active', '');
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  503) 	document.getElementById(tabName).style.display = 'block';
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  504) 	evt.currentTarget.className += ' active';
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  543) 	password: 'password',
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  548) 	e = document.getElementById('first');
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  549) 	e.classList.remove('active');
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  599) 		.then(res => res.json())
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  600) 		.then(data => {
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  601) 			data.results.forEach(movie => {
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  608) 					'movie/' +
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  610) 					'?' +
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  615) 					.then(res => res.json())
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  616) 					.then(data => {
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  627) 		.catch(error => {
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  850) 		.then(res => res.json())
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  851) 		.then(data => {
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  852) 			data.results.forEach(movie => {
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  853) 				movieCarousel6.innerHTML = '';
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  859) 					'movie/' +
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  861) 					'?' +
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  866) 					BASE_URL + 'movie/' + movie.id + 'videos?' + API_KEY;
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  868) 					.then(res => res.json())
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  869) 					.then(data => {
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  880) 		.catch(error => {
^7da774a (mpatel65    2022-11-16 17:10:36 -0500  900)         tagline,
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1103) 		.then(res => res.json())
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1104) 		.then(data => {
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1105) 			data.results.forEach(movie => {
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1106) 				movieCarousel7.innerHTML = '';
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1112) 					'movie/' +
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1114) 					'?' +
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1119) 					.then(res => res.json())
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1120) 					.then(data => {
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1131) 		.catch(error => {
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1151)         tagline,
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1356) 			// console.log('shows: ', data);
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1358) 				movieCarousel3.innerHTML = '';
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1406) 		tagline,
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1579) 			// console.log('shows: ', data);
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1581) 				movieCarousel4.innerHTML = '';
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1629) 		tagline,
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1869) 			if (
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1870) 				vid.name == 'Official Trailer' ||
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1871) 				vid.name == 'Official Trailer [Subtitled]' ||
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1872) 				vid.name == 'Dub Trailer' ||
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1873) 				vid.name == 'United States Trailer'
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1874) 			) {
^7da774a (mpatel65    2022-11-16 17:10:36 -0500 1883) 		});

->  movies.js

^7da774a (mpatel65      2022-11-16 17:10:36 -0500 185) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 414)     

->  my-list.js

36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 123) 	const movieUrl = `${BASE_URL}movie/${id}?${API_KEY}&language=en-US&append_to_response=videos,credits,similar,images,reviews,watch/providers`;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 141) 		id,
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 145) 		overview,
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 146) 		backdrop_path,
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 147) 		release_date,
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 149) 		budget,
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 151) 		tagline,
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 152) 		videos,
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 153) 		reviews,
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 154) 		genres,
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 155) 		status,
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 156) 		similar,
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 157) 		credits,
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 160) 	const specialCharTrailer = id + title;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 161) 	const specialCharReviews = title + id;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 162) 	const specialCharWatchProviders = runtime + title + id;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 163) 	const specialCharSimilar = id + title + runtime;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 164) 	const specialCharCreditsCast = title + runtime + id;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 165) 	const specialCharCreditsCrew = id + runtime + title + release_date;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 166) 	let movieGenre = '';
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 167) 	let formattedRevenue = '';
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 168) 	let formattedBudget = '';
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 169) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 170) 	/* Formats the revenue and budget into USD */
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 171) 	const formatter = new Intl.NumberFormat('en-US', {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 172) 		style: 'currency',
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 173) 		currency: 'USD',
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 174) 	});
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 175) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 176) 	genres.forEach(genre => {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 177) 		movieGenre += genre.name + ', ';
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 178) 	});
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 179) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 180) 	if (revenue == 0) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 181) 		formattedRevenue = 'N/A';
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 182) 	} else {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 183) 		formattedRevenue = formatter.format(revenue);
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 184) 	}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 185) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 186) 	if (budget == 0) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 187) 		formattedBudget = 'N/A';
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 188) 	} else {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 189) 		formattedBudget = formatter.format(budget);
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 190) 	}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 191) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 192) 	let posterURL = null;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 193) 	let backdropURL = null;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 194) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 195) 	/* If the backdrop exists, then create the URL for it and check if the poster path is null -- if so, set it equal to the backdrop path */
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 196) 	if (backdrop_path != null) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 197) 		backdropURL = POSTER_URL + backdrop_path;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 198) 		if (poster_path == null) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 199) 			posterURL = backdropURL;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 200) 		} else if (poster_path != null) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 201) 			posterURL = POSTER_URL + poster_path;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 202) 		}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 203) 	} else if (backdrop_path == null) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 204) 		/* If the backdrop_path is null, check if the poster path exists. If so, create it and set them equal */
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 205) 		/* Otherwise, just sets them equal to blank square */
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 206) 		if (poster_path != null) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 207) 			posterURL = POSTER_URL + poster_path;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 208) 			backdropURL = posterURL;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 209) 		} else if (poster_path == null) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 210) 			posterURL =
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 211) 				'https://upload.wikimedia.org/wikipedia/commons/1/1f/Blank_square.svg';
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 212) 			backdropURL =
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 213) 				'https://upload.wikimedia.org/wikipedia/commons/1/1f/Blank_square.svg';
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 214) 		}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 215) 	}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 218) 	const movieEl = `
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 220)         <img src="${posterURL}" alt="poster" style="margin-right: 0px !important; height: 400px !important; width: 250px !important;">
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 222)         <i id="heart-${title}" class="heart-icon fa-solid fa-heart relative bottom-[-320px] right-[4rem] text-4xl text-white hover: cursor-pointer" aria-hidden="true"></i>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 235)                 <p>${tagline}</p>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 241)               <a href="#item1${title}" class="btn btn-xs">Details</a> 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 243) 			  <a href="#item2${title}" class="btn btn-xs">See Also</a> 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 247) 					<div class="carousel-card bg-base-100 shadow-xl" style="height: 1600px !important;">
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 248) 						<div class="carousel-card-body">
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 249) 						<h1><b>About this movie</b></h1>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 250) 						<hr>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 251) 						<br>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 252) 						<h1><b>Description</b></h1>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 253) 						<p>${overview}</p>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 254) 						<br>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 255) 						<p>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 256) 							<b>Genre</b>: ${movieGenre} |
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 257) 						  	<b>Status</b>: ${status} |
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 258) 						  	<b>Budget</b>: ${formattedBudget} |
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 259) 						  	<b>Revenue</b>: ${formattedRevenue}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 260) 						</p>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 261) 						<br>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 262) 						<div id="${specialCharWatchProviders}" style="
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 263) 								display: flex !important;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 264) 							  	flex-direction: row !important;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 265) 							  	flex-wrap: wrap !important;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 266) 							  	justify-content: flex-start !important;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 267) 							  	align-items: center !important;">
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 268) 							  	<b>Watch Providers</b>: &nbsp;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 270) 						<br>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 271) 						<div class="flex column-gap:100px" style="flex-wrap:wrap">	
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 272) 							<p id="${specialCharCreditsCrew}"><b>Director</b>: </p>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 274) 						<br>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 275) 						<div class="flex column-gap:100px" style="flex-wrap:wrap">	
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 276) 							<p id="${specialCharCreditsCast}"><b>Cast</b>: </p>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 278) 						<br>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 279) 						<h2 style="text-align: center;"><b>Trailer</b></h2>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 280) 						<div class="card-body" style="width: 900px; height: 500px; text-align: center;" id="${specialCharTrailer}"> </div>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 285) 				<div id="${specialCharReviews}"></div>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 287) 		  	<div id="item2${title}" class="carousel-item w-full">
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 288) 				<div id="${specialCharSimilar}" style="flex-wrap:wrap;"></div>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 295) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 296) 	movieCard.innerHTML += movieEl;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 297) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 298) 	/* Used to help improve load time of trailers */
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 299) 	setTimeout(function () {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 300) 		getTrailer(videos.results, specialCharTrailer);
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 301) 	}, 5);
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 302) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 303) 	/* Call all functions with their respective specialChar id used within the html */
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 304) 	getWatchProviders(
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 305) 		data['watch/providers'].results['US'],
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 306) 		specialCharWatchProviders
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 307) 	);
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 308) 	getDirector(credits.crew, specialCharCreditsCrew);
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 309) 	getCast(credits.cast, specialCharCreditsCast);
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 310) 	getReviews(reviews.results, specialCharReviews);
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 311) 	getSimilar(similar.results, specialCharSimilar);
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 314) 	let hIcon = document.querySelectorAll('.heart-icon');
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 329) /* Gets a trailer for the movie */
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 330) async function getTrailer(videos, specialCharTrailer) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 331) 	const YOUTUBE_TRAILER_URL = 'https://youtube.com/embed/';
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 332) 	if (videos.length != 0) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 333) 		videos.forEach(vid => {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 334) 			if (
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 335) 				vid.name == 'Official Trailer' ||
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 336) 				vid.name == 'Official Trailer [Subtitled]' ||
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 337) 				vid.name == 'Dub Trailer' ||
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 338) 				vid.name == 'United States Trailer' ||
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 339) 				vid.name == 'Official Promo' ||
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 340) 				(vid.iso_639_1 == 'en' && vid.iso_3166_1 == 'US')
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 341) 			) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 342) 				const trailer = YOUTUBE_TRAILER_URL + vid.key;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 343) 				const trailerHTML = `
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 344)                 <iframe 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 345) 					style="text-align:center; width: 900px; height: 400px"
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 346)                     src="${trailer}"
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 347) 					allowfullscreen >
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 348)                 </iframe>`;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 349) 				document.getElementById(specialCharTrailer).innerHTML = trailerHTML;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 350) 			}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 351) 		});
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 352) 	}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 353) }
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 354) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 355) /* Gets the first 10 people listed in the cast */
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 356) async function getCast(cast, specialCharCreditsCast) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 357) 	let castCount = 0;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 358) 	let shouldBreak = false;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 359) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 360) 	cast.forEach(person => {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 361) 		if (shouldBreak) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 362) 			return;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 363) 		}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 364) 		if (castCount < 10) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 365) 			const castMember = `${person.name} | `;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 366) 			document.getElementById(specialCharCreditsCast).innerHTML += castMember;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 367) 			castCount++;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 368) 		} else if (castCount >= 10) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 369) 			shouldBreak = true;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 370) 		}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 371) 	});
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 372) }
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 373) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 374) /* Gets the director of the film to display */
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 375) async function getDirector(crew, specialCharCreditsCrew) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 376) 	let shouldBreak = false;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 377) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 378) 	crew.forEach(person => {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 379) 		if (shouldBreak) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 380) 			return;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 381) 		}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 382) 		if (person.job == 'Director') {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 383) 			const director = `${person.name}`;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 384) 			document.getElementById(specialCharCreditsCrew).innerHTML += director;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 385) 			shouldBreak = true;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 386) 		}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 387) 	});
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 388) }
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 389) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 390) /* Gets all watch providers and display's their logo */
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 391) async function getWatchProviders(providers, specialCharWatchProviders) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 392) 	const providerURL = 'https://image.tmdb.org/t/p/original/';
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 393) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 394) 	/* If the movie has providers / places to rent / watch, it will display the logo */
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 395) 	if (providers != null) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 396) 		if (providers.flatrate != null) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 397) 			providers.flatrate.forEach(prov => {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 398) 				const providerHtml = `
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 399) 				<div>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 400) 					<img src="${providerURL + prov.logo_path}" style="
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 401) 					height: 50px !important;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 402) 					width: 50px !important;    
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 403) 					"/>	
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 404) 				</div>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 405) 				`;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 406) 				document.getElementById(specialCharWatchProviders).innerHTML +=
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 407) 					providerHtml;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 408) 			});
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 409) 		}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 410) 		if (providers.rent != null) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 411) 			providers.rent.forEach(prov => {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 412) 				const providerHtml = `
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 413) 				<div>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 414) 					<img src="${providerURL + prov.logo_path}" style="
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 415) 					height: 50px !important;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 416) 					width: 50px !important;    
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 417) 					"/>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 418) 				</div>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 419) 				`;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 420) 				document.getElementById(specialCharWatchProviders).innerHTML +=
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 421) 					providerHtml;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 422) 			});
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 423) 		} else if (providers.buy != null) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 424) 			providers.buy.forEach(prov => {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 425) 				const providerHtml = `
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 426) 				<div>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 427) 					<img src="${providerURL + prov.logo_path}" style="
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 428) 					height: 50px !important;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 429) 					width: 50px !important;    
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 430) 					"/>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 431) 				</div>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 432) 				`;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 433) 				document.getElementById(specialCharWatchProviders).innerHTML +=
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 434) 					providerHtml;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 435) 			});
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 436) 		} else if (providers.ads != null) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 437) 			providers.ads.forEach(prov => {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 438) 				const providerHtml = `
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 439) 				<div>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 440) 					<img src="${providerURL + prov.logo_path}" style="
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 441) 					height: 50px !important;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 442) 					width: 50px !important;    
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 443) 					"/>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 444) 				</div>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 445) 				`;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 446) 				document.getElementById(specialCharWatchProviders).innerHTML +=
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 447) 					providerHtml;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 448) 			});
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 449) 		}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 450) 	} else {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 451) 		/* Otherwise, theres nowhere to rent or watch -- return no current providers */
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 452) 		const providerHtml = `
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 453) 		<div>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 454) 			None at this time
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 455) 		</div>`;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 456) 		document.getElementById(specialCharWatchProviders).innerHTML +=
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 457) 			providerHtml;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 458) 	}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 459) }
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 460) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 461) /* Get and display 3 reviews left for a movie -- if none, display none */
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 462) async function getReviews(reviews, specialCharReviews) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 463) 	if (reviews.length != 0) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 464) 		reviews.forEach(rev => {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 465) 			const reviewHtml = `
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 466) 			<div>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 467) 				<b>${rev.author}</b> -- <b>Rating: ${rev.author_details.rating}/10</b>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 468) 				<div style="height:110px;width:900px;overflow:auto;background-color:#21252b;color:white;scrollbar-base-color:gold;font-family:sans-serif;padding:10px;">
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 469) 					<p style="margin-left: 30px !important;">
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 470) 						${rev.content}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 471) 					</p>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 472) 				</div>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 473) 			</div>`;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 474) 			document.getElementById(specialCharReviews).innerHTML += reviewHtml;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 475) 		});
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 476) 	} else {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 477) 		const reviewHtml = `<p><b>N/A</b></p>`;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 478) 		document.getElementById(specialCharReviews).innerHTML = reviewHtml;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 479) 	}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 480) }
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 481) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 482) async function getSimilar(movies, specialCharSimilar) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 483) 	if (movies.length != 0) {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 484) 		movies.forEach(mov => {
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 485) 			const similarHTML = `
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 486) 				<label for="${
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 487) 					mov.title
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 488) 				}" class="tooltip" style="height: 300px !important; padding-right: 0px !important; padding-left: 0px !important; margin-right: 10px !important; margin-left: 10px !important; margin-bottom: 10px !important; padding-bottom: 0px !important;">
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 489) 					<img src="${
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 490) 						POSTER_URL + mov.poster_path
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 491) 					}" alt="poster" style="object-fit: cover; margin-right: 0px !important; height: 300px !important; width: 200px !important;"></img>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 492) 					<span class="tooltiptext"><b>${mov.title}</b><br>${mov.vote_average}/10</span>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 493) 				</label>
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 494) 				`;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 495) 
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 496) 			document.getElementById(specialCharSimilar).innerHTML += similarHTML;
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 497) 		});
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 498) 	}
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 499) }
36e385d2 (mpatel65    2022-11-30 22:20:52 -0500 524) 	const tvUrl = `${BASE_URL}tv/${id}?${API_KEY}&language=en-US&append_to_response=videos,credits,similar,images,reviews,watch/providers`;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 549) 		number_of_episodes,
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 551) 		status,
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 552) 		genres,
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 553) 		tagline,
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 554) 		videos,
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 555) 		reviews,
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 556) 		similar,
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 557) 		id,
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 558) 		credits,
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 561) 	const specialCharTrailer = id + name + status + "oisbdo abdo";
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 562) 	const specialCharReviews = name + id + name + id;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 563) 	const specialCharWatchProviders = episode_run_time + name + id + id;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 564) 	const specialCharSimilar = id + name + episode_run_time + id;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 565) 	const specialCharCreditsCast = id + name + episode_run_time + status;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 566) 	const specialCharCreditsCrew = id + episode_run_time + name + tagline;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 567) 	let showGenre = '';
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 568) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 569) 	genres.forEach(genre => {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 570) 		showGenre += genre.name + ", ";
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 571) 	})
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 572) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 573) 	let posterURL = null;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 574) 	let backdropURL = null;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 575) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 576) 	/* If the backdrop exists, then create the URL for it and check if the poster path is null -- if so, set it equal to the backdrop path */
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 577) 	if (backdrop_path != null) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 578) 		backdropURL = POSTER_URL + backdrop_path;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 579) 		if (poster_path == null) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 580) 			posterURL = backdropURL;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 581) 		}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 582) 		else if (poster_path != null) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 583) 			posterURL = POSTER_URL + poster_path;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 584) 		}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 585) 	}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 586) 	/* If the backdrop_path is null, check if the poster path exists. If so, create it and set them equal */
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 587) 	/* Otherwise, just sets them equal to blank square */
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 588) 	else if (backdrop_path == null) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 589) 		if (poster_path != null) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 590) 			posterURL = POSTER_URL + poster_path;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 591) 			backdropURL = posterURL;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 592) 		}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 593) 		else if (poster_path == null) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 594) 			posterURL = 'https://upload.wikimedia.org/wikipedia/commons/1/1f/Blank_square.svg';
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 595) 			backdropURL = 'https://upload.wikimedia.org/wikipedia/commons/1/1f/Blank_square.svg';
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 596) 		}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 597) 	}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 598) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 600) 	const showCard = document.getElementById('tv');
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 602) 	const showEl = `
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 603) 	<label for="${name + id}" class="btn modal-button" style="height: 400px !important; padding-right: 0px !important; padding-left: 0px !important; margin-right: 10px !important; margin-left: 10px !important; margin-bottom: 10px !important; padding-bottom: 0px !important; width: 250px !important;">
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 605) 			posterURL
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 608)     <i id="heart-${name}" class="heart-icon fa-regular fa-heart relative bottom-[-320px] right-[4rem] text-4xl text-white hover: cursor-pointer" aria-hidden="true"></i>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 609)     <input type="checkbox" id="${name + id}" class="modal-toggle" />
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 610) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 622)           <p>${tagline}</p>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 628)         <a href="#item1${name + id}" class="btn btn-xs">More Info</a>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 629) 		<a href="#item3${name + id}" class="btn btn-xs">Reviews</a> 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 630)         <a href="#item2${name + id}" class="btn btn-xs">See Also</a> 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 633) 	  <div id="item1${name + id}" class="carousel-item w-full">
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 634) 		  	<div class="carousel-card bg-base-100 shadow-xl" style="height: 1600px !important;">
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 635) 				<div class="carousel-card-body">
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 636) 					<h1><b>About this show</b></h1>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 637) 					<hr>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 638) 					<br>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 639) 					<h1><b>Description</b></h1>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 640) 					<p>${overview}</p>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 641) 					<br>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 642) 					<p>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 643) 					<b>Genre</b>: ${showGenre} |
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 644) 					<b>Status</b>: ${status} |
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 645) 					<b>Number of Episodes</b>: ${number_of_episodes}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 646) 					</p>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 647) 					<br>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 648) 					<div id="${specialCharWatchProviders}" style="
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 649) 							display: flex !important;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 650) 							flex-direction: row !important;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 651) 							flex-wrap: wrap !important;">
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 652) 							<b>Watch Providers</b>: &nbsp;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 654) 					<br>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 655) 					<div class="flex column-gap:100px" style="flex-wrap:wrap">	
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 656) 						<p id="${specialCharCreditsCrew}"><b>Director</b>: </p>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 658) 					<br>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 659) 					<div class="flex column-gap:100px" style="flex-wrap:wrap">	
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 660) 						<p id="${specialCharCreditsCast}"><b>Cast</b>: </p>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 662) 			  		<br>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 663) 			  		<h2 style="text-align: center;"><b>Trailer</b></h2>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 664) 			  		<div class="card-body" style="width: 900px; height: 500px; text-align: center;" id="${specialCharTrailer}"> </div>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 668)   		<div id="item3${name + id}" class="carousel-item w-full">
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 669) 			<div id="${specialCharReviews}"></div>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 671) 		<div id="item2${name + id}" class="carousel-item w-full">
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 672) 			<div id="${specialCharSimilar}" style="flex-wrap:wrap;"></div>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 675) 			<label for="${name + id}" class="btn btn-sm btn-circle absolute right-2 top-2">✕</label>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 678)   showCard.innerHTML += showEl;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 679) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 680) 	setTimeout(function () {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 681) 		getTrailer(videos.results, specialCharTrailer);
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 682) 	}, 5);
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 683) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 684) 	/* Call all functions with their respective specialChar id used within the html */
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 685) 	getWatchProviders(data["watch/providers"].results["US"], specialCharWatchProviders);
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 686) 	getDirector(credits.crew, specialCharCreditsCrew);
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 687) 	getCast(credits.cast, specialCharCreditsCast);
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 688) 	getReviews(reviews.results, specialCharReviews);
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 689) 	getSimilar(similar.results, specialCharSimilar);
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 706) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 707) async function getTrailer(videos, specialCharTrailer) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 708) 	const YOUTUBE_TRAILER_URL = 'https://youtube.com/embed/';
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 709) 	if (videos.length != 0) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 710) 		videos.forEach(vid => {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 711) 			if (
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 712) 				vid.name == 'Official Trailer' ||
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 713) 				vid.name == 'Official Trailer [Subtitled]' ||
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 714) 				vid.name == 'Dub Trailer' ||
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 715) 				vid.name == 'United States Trailer' ||
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 716) 				vid.name == 'Official Promo' || 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 717) 				vid.iso_639_1 == 'en' && vid.iso_3166_1 == 'US'
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 718) 			) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 719) 				const trailer = YOUTUBE_TRAILER_URL + vid.key;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 720) 				const trailerHTML = `
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 721)                 <iframe 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 722) 					style="text-align:center; width: 900px; height: 600px"
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 723)                     src="${trailer}"
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 724) 					allowfullscreen >
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 725)                 </iframe>`;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 726) 				document.getElementById(specialCharTrailer).innerHTML = trailerHTML;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 727) 			}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 728) 		});
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 729) 	} 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 730) 	else {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 731) 		const trailerHTML = `<p style="text-align:center;>No Trailer Available</p>`;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 732) 		document.getElementById(specialCharTrailer).innerHTML = trailerHTML;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 733) 	}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 734) }
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 735) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 736) /* Gets the first 10 people listed in the cast */
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 737) async function getCast(cast, specialCharCreditsCast) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 738) 	let castCount = 0;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 739) 	let shouldBreak = false;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 740) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 741) 	cast.forEach(person => {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 742) 		if (shouldBreak) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 743) 			return;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 744) 		}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 745) 		if (castCount < 10) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 746) 			const castMember = `${person.name} | `;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 747) 			document.getElementById(specialCharCreditsCast).innerHTML += castMember;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 748) 			castCount++;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 749) 		}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 750) 		else if (castCount >= 10) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 751) 			shouldBreak = true;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 752) 		}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 753) 	});
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 754) }
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 755) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 756) /* Gets the director of the film to display */
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 757) async function getDirector(crew, specialCharCreditsCrew) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 758) 	let shouldBreak = false;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 759) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 760) 	if (crew.length != 0) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 761) 		crew.forEach(person => {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 762) 			if (shouldBreak) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 763) 				return;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 764) 			}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 765) 			if (person.job == "Director" || person.known_for_department == "Directing") {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 766) 				const director = `${person.name}`;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 767) 				document.getElementById(specialCharCreditsCrew).innerHTML += director;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 768) 				shouldBreak = true;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 769) 			}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 770) 		});
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 771) 	}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 772) 	else {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 773) 		const director = `N/A`;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 774) 		document.getElementById(specialCharCreditsCrew).innerHTML += director;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 775) 	}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 776) }
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 777) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 778) /* Gets all watch providers and display's their logo */
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 779) async function getWatchProviders(providers, specialCharWatchProviders) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 780) 	const providerURL = 'https://image.tmdb.org/t/p/original/';
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 781) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 782) 	/* If the show has providers / places to rent / watch, it will display the logo */
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 783) 	if (providers != null) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 784) 		if (providers.flatrate != null) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 785) 			providers.flatrate.forEach(prov => {	
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 786) 				const providerHtml = `
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 787) 				<div>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 788) 					<img src="${providerURL + prov.logo_path}" style="
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 789) 					height: 50px !important;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 790) 					width: 50px !important;    
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 791) 					"/>	
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 792) 				</div>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 793) 				`;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 794) 				document.getElementById(specialCharWatchProviders).innerHTML += providerHtml;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 795) 			})
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 796) 		}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 797) 		if (providers.rent != null) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 798) 			providers.rent.forEach(prov => {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 799) 				const providerHtml = `
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 800) 				<div>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 801) 					<img src="${providerURL + prov.logo_path}" style="
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 802) 					height: 50px !important;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 803) 					width: 50px !important;    
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 804) 					"/>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 805) 				</div>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 806) 				`;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 807) 				document.getElementById(specialCharWatchProviders).innerHTML += providerHtml;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 808) 			})
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 809) 		}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 810) 		else if (providers.buy != null) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 811) 			providers.buy.forEach(prov => {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 812) 				const providerHtml = `
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 813) 				<div>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 814) 					<img src="${providerURL + prov.logo_path}" style="
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 815) 					height: 50px !important;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 816) 					width: 50px !important;    
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 817) 					"/>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 818) 				</div>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 819) 				`;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 820) 				document.getElementById(specialCharWatchProviders).innerHTML += providerHtml;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 821) 			})
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 822) 		}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 823) 		else if (providers.ads != null) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 824) 			providers.ads.forEach(prov => {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 825) 				const providerHtml = `
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 826) 				<div>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 827) 					<img src="${providerURL + prov.logo_path}" style="
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 828) 					height: 50px !important;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 829) 					width: 50px !important;    
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 830) 					"/>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 831) 				</div>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 832) 				`;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 833) 				document.getElementById(specialCharWatchProviders).innerHTML += providerHtml;	
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 834) 			})
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 835) 		}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 836) 	}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 837) 	/* Otherwise, theres nowhere to rent or watch -- return no current providers */
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 838) 	else {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 839) 		const providerHtml = `
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 840) 		<div>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 841) 			None at this time
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 842) 		</div>`;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 843) 		document.getElementById(specialCharWatchProviders).innerHTML += providerHtml;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 844) 	}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 845) }
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 846) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 847) /* Get and display 3 reviews left for a show -- if none, display none */
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 848) async function getReviews(reviews, specialCharReviews) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 849) 	if (reviews.length != 0) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 850) 		reviews.forEach(rev => {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 851) 			const reviewHtml = `
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 852) 			<div>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 853) 				<b>${rev.author}</b> -- <b>Rating: ${rev.author_details.rating}/10</b>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 854) 				<div style="height:110px;width:900px;overflow:auto;background-color:#21252b;color:white;scrollbar-base-color:gold;font-family:sans-serif;padding:10px;">
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 855) 					<p style="margin-left: 30px !important;">
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 856) 						${rev.content}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 857) 					</p>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 858) 				</div>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 859) 			</div>`;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 860) 			document.getElementById(specialCharReviews).innerHTML += reviewHtml;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 861) 		})
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 862) 	}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 863) 	else {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 864) 		const reviewHtml = `<p><b>N/A</b></p>`;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 865) 		document.getElementById(specialCharReviews).innerHTML = reviewHtml;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 866) 	}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 867) }
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 868) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 869) async function getSimilar(show, specialCharSimilar) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 870) 	if (show.length != 0) {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 871) 		show.forEach(s => {
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 872) 			const similarHTML = `
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 873) 				<label for="${s.name}" class="tooltip" style="height: 300px !important; padding-right: 0px !important; padding-left: 0px !important; margin-right: 10px !important; margin-left: 10px !important; margin-bottom: 10px !important; padding-bottom: 0px !important;">
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 874) 					<img src="${POSTER_URL + s.poster_path}" alt="poster" style="object-fit: cover; margin-right: 0px !important; height: 300px !important; width: 200px !important;"></img>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 875) 					<span class="tooltiptext"><b>${s.name}</b><br>${s.vote_average}/10</span>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 876) 				</label>
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 877) 				`;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 878) 
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 879) 			document.getElementById(specialCharSimilar).innerHTML += similarHTML;
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 880) 		})
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 881) 	}
f61d47eb (mpatel65    2022-11-30 22:38:01 -0500 882) }

->  search.js

65531c25 (mpatel65    2022-11-30 19:14:26 -0500   1) const firebaseConfig = {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500   2) 	apiKey: 'AIzaSyDGTFXLcJqWM4F3yWUXc4QalVBkT2Xg6Rg',
65531c25 (mpatel65    2022-11-30 19:14:26 -0500   3) 	authDomain: 'suggestify-6b974.firebaseapp.com',
65531c25 (mpatel65    2022-11-30 19:14:26 -0500   4) 	databaseURL: 'https://suggestify-6b974-default-rtdb.firebaseio.com',
65531c25 (mpatel65    2022-11-30 19:14:26 -0500   5) 	projectId: 'suggestify-6b974',
65531c25 (mpatel65    2022-11-30 19:14:26 -0500   6) 	storageBucket: 'suggestify-6b974.appspot.com',
65531c25 (mpatel65    2022-11-30 19:14:26 -0500   7) 	messagingSenderId: '287553553595',
65531c25 (mpatel65    2022-11-30 19:14:26 -0500   8) 	appId: '1:287553553595:web:c5e8adde4ca305cfaad59e',
65531c25 (mpatel65    2022-11-30 19:14:26 -0500   9) 	measurementId: 'G-30270TW59M',
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  10) };
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  11) 
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  12) /* Initialize app with firebase firestore */
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  13) firebase.initializeApp(firebaseConfig);
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  14) var db = firebase.firestore();
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  15) 
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  16) // addMovieToFirestore('Black Adam', '2022/11/7', 'a superhero', 'movie/tv');
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  17) async function addMovieToFirestore(
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  18) 	itemId,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  19) 	itemTitle,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  20) 	releaseDate,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  21) 	itemOverview,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  22) 	type
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  23) ) {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  24) 	db.collection('My List')
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  25) 		.doc(itemTitle)
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  26) 		.set({
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  27) 			id: itemId,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  28) 			overview: itemOverview,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  29) 			release_date: releaseDate,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  30) 			title: itemTitle,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  31) 			category: type,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  32) 		})
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  33) 		.then(() => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  34) 			console.log('Document successfully written!', itemTitle);
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  35) 		})
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  36) 		.catch(error => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  37) 			console.error('Error writing document: ', error);
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  38) 		});
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  39) }
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  40) 
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  41) // getItemFromFirestore('Black Adam');
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  42) async function getItemFromFirestore(docName) {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  43) 	var docRef = db.collection('My List').doc(docName);
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  44) 
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  45) 	docRef
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  46) 		.get()
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  47) 		.then(doc => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  48) 			if (doc.exists) {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  49) 				console.log('Found: ', doc.data().title);
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  50) 			}
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  51) 		})
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  52) 		.catch(error => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  53) 			console.log('Error getting document:', error);
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  54) 		});
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  55) }
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  56) 
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  57) // updateMovieFromFirestore('Black Adam', 'new value');
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  58) async function updateMovieFromFirestore(docName, newValue) {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  59) 	var docRef = db.collection('My List').doc(docName);
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  60) 
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  61) 	return docRef
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  62) 		.update({
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  63) 			// only one field at a time can be updated
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  64) 			title: newValue,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  65) 			// release_date: 'newValue',
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  66) 			// overview: 'newValue',
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  67) 			// category: 'newValue',
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  68) 		})
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  69) 		.then(() => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  70) 			console.log('Document successfully updated!', docName);
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  71) 		})
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  72) 		.catch(error => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  73) 			// The document probably doesn't exist.
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  74) 			console.error('Error updating document: ', error);
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  75) 		});
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  76) }
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  77) 
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  78) // deleteMovieFromFirestore('name');
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  79) async function deleteMovieFromFirestore(docName) {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  80) 	db.collection('My List')
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  81) 		.doc(docName)
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  82) 		.delete()
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  83) 		.then(() => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  84) 			console.log('Document successfully deleted!', docName);
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  85) 		})
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  86) 		.catch(error => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  87) 			console.error('Error removing document: ', error);
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  88) 		});
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  89) }
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  90) 
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  91) let count = 0;
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  92) let hearts = [];
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  93) 
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  94) getCountOfItemsFromFirestore();
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  95) async function getCountOfItemsFromFirestore() {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  96) 	db.collection('My List')
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  97) 		.get()
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  98) 		.then(querySnapshot => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500  99) 			querySnapshot.forEach(doc => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 100) 				// doc.data() is never undefined for query doc snapshots
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 101) 				count++;
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 102) 				document.getElementsByClassName('badge')[0].innerHTML = count;
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 103) 			});
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 104) 		})
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 105) 		.catch(error => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 106) 			console.log('Error getting documents: ', error);
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 107) 		});
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 108) }
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 109) 
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 143)             hearts.push({
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 144) 							movieId: data.id,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 145) 							movieTitle: data.title,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 146) 							release: data.release_date,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 147) 							description: data.overview,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 148) 						});
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 241) 	const movieEl = `
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 247)         <i id="heart-${title}" class="heart-icon fa-regular fa-heart relative bottom-[-320px] right-[4rem] text-4xl text-white hover: cursor-pointer" aria-hidden="true"></i>
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 321)     movieCard.innerHTML += movieEl;
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 322) 
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 335)   /* Fill heart if movie exists in firestore */
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 336) 	let hIcon = document.querySelectorAll('.heart-icon');
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 337) 
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 338) 	// find all favorited movies from firestore
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 339) 	hearts.forEach(heart => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 340) 		for (let movie in heart) {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 341) 			if (movie == 'movieTitle') {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 342) 				let docName = heart[movie];
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 343) 				var docRef = db.collection('My List').doc(docName);
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 344) 				docRef
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 345) 					.get()
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 346) 					.then(doc => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 347) 						if (doc.exists) {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 348) 							hIcon.forEach(icon => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 349) 								if (icon.id == `heart-${docName}`) {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 350) 									icon.classList.remove('fa-regular');
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 351) 									icon.classList.add('fa-solid');
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 352) 								}
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 353) 							});
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 354) 						}
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 355) 					})
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 356) 					.catch(error => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 357) 						console.log('Error getting document:', error);
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 358) 					});
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 359) 			}
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 360) 		}
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 361) 	});
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 362) 
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 363) 	hIcon.forEach((icon, index) => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 364) 		icon.addEventListener('click', () => {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 365) 			if (icon.classList.contains('fa-regular')) {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 366) 				icon.classList.remove('fa-regular');
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 367) 				icon.classList.add('fa-solid');
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 368) 				addMovieToFirestore(
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 369) 					hearts[index].movieId,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 370) 					hearts[index].movieTitle,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 371) 					hearts[index].release,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 372) 					hearts[index].description,
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 373) 					'movie'
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 374) 				);
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 375) 				count++;
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 376) 				document.getElementsByClassName('badge')[0].innerHTML = count;
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 377) 			} else {
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 378) 				icon.classList.remove('fa-solid');
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 379) 				icon.classList.add('fa-regular');
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 380) 				deleteMovieFromFirestore(hearts[index].movieTitle);
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 381) 				count--;
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 382) 				document.getElementsByClassName('badge')[0].innerHTML = count;
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 383) 			}
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 384) 		});
65531c25 (mpatel65    2022-11-30 19:14:26 -0500 385) 	});

->  tv.js

^7da774a (mpatel65      2022-11-16 17:10:36 -0500   1) const firebaseConfig = {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500   2) 	apiKey: 'AIzaSyDGTFXLcJqWM4F3yWUXc4QalVBkT2Xg6Rg',
^7da774a (mpatel65      2022-11-16 17:10:36 -0500   3) 	authDomain: 'suggestify-6b974.firebaseapp.com',
^7da774a (mpatel65      2022-11-16 17:10:36 -0500   4) 	databaseURL: 'https://suggestify-6b974-default-rtdb.firebaseio.com',
^7da774a (mpatel65      2022-11-16 17:10:36 -0500   5) 	projectId: 'suggestify-6b974',
^7da774a (mpatel65      2022-11-16 17:10:36 -0500   6) 	storageBucket: 'suggestify-6b974.appspot.com',
^7da774a (mpatel65      2022-11-16 17:10:36 -0500   7) 	messagingSenderId: '287553553595',
^7da774a (mpatel65      2022-11-16 17:10:36 -0500   8) 	appId: '1:287553553595:web:c5e8adde4ca305cfaad59e',
^7da774a (mpatel65      2022-11-16 17:10:36 -0500   9) 	measurementId: 'G-30270TW59M',
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  10) };
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  11) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  12) /* Initialize app with firebase firestore */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  13) firebase.initializeApp(firebaseConfig);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  14) var db = firebase.firestore();
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  15) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  18) 	db.collection('My List')
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  19) 		.doc(tvTitle)
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  20) 		.set({
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  21) 			id: tvId,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  22) 			overview: overview,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  23) 			release_date: releaseDate,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  24) 			title: tvTitle,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  26) 		})
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  27) 		.then(() => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  28) 			console.log('Document successfully written!', tvTitle);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  29) 		})
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  30) 		.catch(error => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  31) 			console.error('Error writing document: ', error);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  32) 		});
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  33) }
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  34) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  35) // getTvFromFirestore('Chucky');
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  36) async function getTvFromFirestore(docName) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  37) 	var docRef = db.collection('My List').doc(docName);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  38) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  39) 	docRef
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  40) 		.get()
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  41) 		.then(doc => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  42) 			if (doc.exists) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  44) 			} else {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  45) 				console.log('No such document!', doc.data());
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  46) 			}
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  47) 		})
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  48) 		.catch(error => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  49) 			console.log('Error getting document:', error);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  50) 		});
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  51) }
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  52) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  53) // updateTvFromFirestore('Chucky', 'new value');
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  54) async function updateTvFromFirestore(docName, newValue) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  55) 	var docRef = db.collection('My List').doc(docName);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  56) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  57) 	return docRef
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  58) 		.update({
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  59) 			// only one field at a time can be updated
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  60) 			title: newValue,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  61) 			// release_date: 'newValue',
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  62) 			// overview: 'newValue',
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  64) 		})
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  65) 		.then(() => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  66) 			console.log('Document successfully updated!', docName);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  67) 		})
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  68) 		.catch(error => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  69) 			// The document probably doesn't exist.
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  70) 			console.error('Error updating document: ', error);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  71) 		});
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  72) }
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  73) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  74) // deleteTvFromFirestore('Chucky');
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  75) async function deleteTvFromFirestore(docName) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  76) 	db.collection('My List')
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  77) 		.doc(docName)
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  78) 		.delete()
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  79) 		.then(() => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  80) 			console.log('Document successfully deleted!', docName);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  81) 		})
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  82) 		.catch(error => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  83) 			console.error('Error removing document: ', error);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  84) 		});
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  85) }
^7da774a (mpatel65      2022-11-16 17:10:36 -0500  86) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 105) /* This will need to be stored somewhere else at some point for security reasons */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 106) const API_KEY = 'api_key=bb1d4e0661af455e02af1ea99fb85fcb';
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 107) const BASE_URL = 'https://api.themoviedb.org/3/';
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 108) /* This can be formatted to include whatever you want -- 'tv/upcoming' is just a placeholder for now */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 109) const API_URL =
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 110) 	BASE_URL +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 111) 	'discover/tv?' +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 112) 	API_KEY +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 113) 	'&language=en-US&sort_by=popularity.desc&page=1';
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 114) /* After this URL, add the posterURL return from the API */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 115) const POSTER_URL = 'https://image.tmdb.org/t/p/original/';
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 116) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 117) /* After the v= comes the key returned by the api call to get all videos for the tv show */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 118) const YOUTUBE_TRAILER_URL = 'https://youtube.com/watch?v=';
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 119) const GENRE_URL = BASE_URL + 'genre/tv/list?' + API_KEY + '&language=en-US';
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 120) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 121) var selectedGenreFilter = [];
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 122) let hearts = [];
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 123) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 124) getGenres(GENRE_URL);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 125) getTvShows(API_URL);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 126) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 127) /* Function will call the API to get all available tv genres -- will then call displayGenres on the returned data */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 128) function getGenres(url) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 129) 	fetch(url)
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 130) 		.then(res => res.json())
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 131) 		.then(data => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 132) 			// console.log('Genres: ', data.genres);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 133) 			displayGenres(data.genres);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 134) 		})
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 135) 		.catch(error => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 136) 			console.log(error);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 137) 		});
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 138) }
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 139) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 140) /* Function will create a button for each of the genres and display them */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 141) /* It also adds the button functionality and the filtering */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 142) function displayGenres(genres) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 143) 	document.getElementById('genreTags').innerHTML = '';
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 144) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 145) 	for (const element of genres) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 146) 		const buttonEl = document.createElement('div');
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 147) 		buttonEl.classList.add('genreName');
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 148) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 149) 		/* *** Functionality for clicking a filter to 'activate it' and clicking it again to 'deactivate it' *** */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 150) 		/* On 'click', if the global selectedGenreFilter array is empty, this will store the genre into the array */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 151) 		/* Otherwise, if it already includes the genre in the array, you will loop through and remove it */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 152) 		buttonEl.addEventListener('click', () => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 153) 			if (selectedGenreFilter.length == 0) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 154) 				selectedGenreFilter.push(element.id);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 155) 			} else if (selectedGenreFilter.includes(element.id)) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 156) 				for (var i = 0; i < selectedGenreFilter.length; i++) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 157) 					if (selectedGenreFilter[i] == element.id) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 158) 						selectedGenreFilter.splice(i, 1);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 159) 					}
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 160) 				}
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 161) 			} else selectedGenreFilter.push(element.id);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 162) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 163) 			/* Constructs the new URL containing the filters */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 164) 			/* Does this by connecting each genre in the array into one string, seperated by commas and appending it to the end of the API call */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 165) 			const FILTERED_URL =
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 166) 				BASE_URL +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 167) 				'discover/tv?' +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 168) 				API_KEY +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 169) 				'&language=en-US&sort_by=popularity.desc&page=1&with_genres=' +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 170) 				selectedGenreFilter.join(',');
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 171) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 172) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 176)       
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 178) 			highlightSelectedFilter();
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 179) 		});
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 180) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 181) 		/* This just constructs the html for each of the filter buttons & inserts them into the genreTags div in tv.html */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 182) 		buttonEl.innerHTML = `
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 183) 	  <button class="btn glass" id="${element.id}"style="margin-bottom: 10px !important; margin-right: 10px !important;">
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 184) 			<p>${element.name}</p>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 185) 		</button>`;
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 186) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 187) 		document.getElementById('genreTags').appendChild(buttonEl);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 188) 	}
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 189) }
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 190) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 191) /* This function adds the functionality of clicking a filter button and having it highlighted to represent 'active' */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 192) function highlightSelectedFilter() {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 193) 	/* Finds all filter buttons (under the class .btn.glass from daisyUI) and stores them into a variable */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 194) 	const highlightedButtons = document.querySelectorAll('.btn.glass');
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 195) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 196) 	/* If the selected filter button was already highlighted, but deactivated, then this will 'un-highlight' it */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 197) 	highlightedButtons.forEach(button => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 198) 		button.classList.remove('highlight');
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 199) 	});
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 200) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 201) 	/* If there are filters active, this will loop through the global array and add the CSS class 'highlighted' to each button */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 202) 	if (selectedGenreFilter.length != 0) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 203) 		selectedGenreFilter.forEach(genre => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 204) 			document.getElementById(genre).classList.add('highlight');
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 205) 		});
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 206) 	}
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 207) }
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 208) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 209) /* Makes an API fetch call to get tv shows with whatever url you want -- this could be for upcoming shows, popular, etc */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 210) function getTvShows(url) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 212) 	fetch(url)
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 213) 		.then(res => res.json())
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 214) 		.then(data => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 215) 			// console.log('shows: ', data);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 216) 			data.results.forEach(tv => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 217) 				/* Append to this response to get multiple things to return in one request */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 218) 				/* This will get all details, credits, similar tv shows, and images */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 219) 				const DETAIL_URL =
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 220) 					BASE_URL +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 221) 					'tv/' +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 222) 					tv.id +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 223) 					'?' +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 224) 					API_KEY +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 226) 				fetch(DETAIL_URL)
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 227) 					.then(res => res.json())
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 228) 					.then(data => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 229) 						hearts.push({
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 230) 							tvId: data.id,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 231) 							tvTitle: data.name,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 232) 							release: data.first_air_date,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 233) 							description: data.overview,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 234) 						});
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 235) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 236) 						displayTvShow(data);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 237) 					});
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 238) 			});
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 239) 		})
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 240) 		.catch(error => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 241) 			console.log(error);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 242) 		});
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 243) }
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 244) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 245) function displayTvShow(show) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 246) 	const {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 247) 		name,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 248) 		poster_path,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 249) 		vote_average,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 250) 		overview,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 251) 		backdrop_path,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 252) 		first_air_date,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 253) 		number_of_seasons,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 255) 		episode_run_time,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 264) 	} = show;
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 265) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 277) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 303) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 306) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 310) 		<img src="${
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 312) 		}" alt="poster" style="margin-right: 0px !important; height: 400px !important; width: 250px !important;">
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 313) 		</label>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 317)     <div class="modal">
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 318)       <div class="modal-box w-full max-w-5xl h-full">
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 319)         <div class="card w-96 bg-base-100 shadow-xl image-full" style="width: 970px !important; height: 400px !important;">
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 320)           <figure>            
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 321)           <img src="${backdropURL}" alt="backDrop" style="width: 970px !important; height: 500px !important; margin-right: 0px !important; border-radius: 0px !important; border-width: 0px !important; padding: 1px 0px 1px 1px !important;"></img>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 322)           </figure>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 323)         <div class="card-body">
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 324)           <h1 class="card-title" style="text-align: center !important;">
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 325)           <font size="+100">${name}</font> 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 326)           </h1>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 327)           <br/>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 329)           <br/><br/>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 330)           <p><b>First Air Date:</b> ${first_air_date} | <b>Rating:</b> ${vote_average} / 10 | <b>Seasons:</b> ${number_of_seasons}</p>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 331)         </div>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 332)       </div>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 333)       <div class="flex justify-center w-full py-2 gap-2">
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 337)       </div>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 338) 	  <div class="carousel w-full">
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 363) 					</div>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 367) 					</div>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 371) 		  		</div>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 372) 	  		</div>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 373)   		</div> 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 376) 		</div> 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 379) 		</div>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 380) 		<div class="modal-action">
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 382) 		</div>
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 383) 	</div>`;
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 385) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 399) 	let hIcon = document.querySelectorAll('.heart-icon');
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 426) 	hIcon.forEach((icon, index) => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 427) 		icon.addEventListener('click', () => {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 428) 			if (icon.classList.contains('fa-regular')) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 429) 				icon.classList.remove('fa-regular');
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 430) 				icon.classList.add('fa-solid');
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 431) 				addTvToFirestore(
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 432) 					hearts[index].tvId,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 433) 					hearts[index].tvTitle,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 434) 					hearts[index].release,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 435) 					hearts[index].description,
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 437) 				);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 438) 				count++;
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 439) 				document.getElementsByClassName('badge')[0].innerHTML = count;
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 440) 			} else {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 441) 				icon.classList.remove('fa-solid');
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 442) 				icon.classList.add('fa-regular');
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 444) 				count--;
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 445) 				document.getElementsByClassName('badge')[0].innerHTML = count;
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 446) 			}
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 447) 		});
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 448) 	});
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 449) }
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 450) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 451) /* Code required for the page buttons */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 452) var pageNumber = 1;
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 453) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 454) function buttonForward() {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 455) 	if (pageNumber < 100) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 456) 		pageNumber++;
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 457) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 458) 		document.getElementById('pageNumberButton').textContent = pageNumber;
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 459) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 461) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 462) 		/* Will check to see if there are any filters applied. If so, it will construct the FILTERED_URL for the getTvShows call for the next page */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 463) 		if (selectedGenreFilter.length != 0) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 464) 			const FILTERED_URL =
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 465) 				BASE_URL +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 466) 				'discover/tv?' +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 467) 				API_KEY +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 468) 				'&language=en-US&sort_by=popularity.desc&page=' +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 469) 				pageNumber +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 470) 				'&with_genres=' +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 471) 				encodeURI(selectedGenreFilter.join(','));
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 472) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 473) 			// console.log(FILTERED_URL);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 474) 			getTvShows(FILTERED_URL);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 475) 		} else {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 476) 			const API_URL =
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 477) 				BASE_URL +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 478) 				'discover/tv?' +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 479) 				API_KEY +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 480) 				'&language=en-US&sort_by=popularity.desc&page=' +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 481) 				pageNumber;
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 482) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 483) 			getTvShows(API_URL);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 484) 		}
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 485) 	}
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 486) }
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 487) function buttonBackward() {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 488) 	if (pageNumber > 1) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 489) 		pageNumber--;
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 490) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 491) 		document.getElementById('pageNumberButton').textContent = pageNumber;
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 492) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 494) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 495) 		/* Will check to see if there are any filters applied. If so, it will construct the FILTERED_URL for the getTvShows call for the prev page */
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 496) 		if (selectedGenreFilter.length != 0) {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 497) 			const FILTERED_URL =
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 498) 				BASE_URL +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 499) 				'discover/tv?' +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 500) 				API_KEY +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 501) 				'&language=en-US&sort_by=popularity.desc&page=' +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 502) 				pageNumber +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 503) 				'&with_genres=' +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 504) 				encodeURI(selectedGenreFilter.join(','));
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 505) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 506) 			// console.log(FILTERED_URL);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 507) 			getTvShows(FILTERED_URL);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 508) 		} else {
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 509) 			const API_URL =
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 510) 				BASE_URL +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 511) 				'discover/tv?' +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 512) 				API_KEY +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 513) 				'&language=en-US&sort_by=popularity.desc&page=' +
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 514) 				pageNumber;
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 515) 
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 516) 			getTvShows(API_URL);
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 517) 		}
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 518) 	}
^7da774a (mpatel65      2022-11-16 17:10:36 -0500 519) }